{% extends 'base.html' %} {% block main %} {% load static %} {% comment %} Vertical Navigation {% endcomment %}
    <div
        class="md:h-screen md:w-52 w-full border-r-2 border-base-200 md:fixed flex flex-col justify-between items-center py-4">
        <ul class="md:space-y-4 flex md:flex-col flex-row items-center justify-center">
            <li>
                <a href="{% url 'dashboard' %}" class="btn btn-ghost btn-sm">
                    <i class="fa-solid fa-table-columns"></i>
                    Dashboard
                </a>
            </li>
            <li>
                <a href="{% url 'all_agencies' %}" class="btn btn-ghost btn-sm">
                    <i class="fa-solid fa-book"></i>
                    All Agencies
                </a>
            </li>
            <li>
                <a href="{% url 'rooms' %}" class="btn btn-ghost bg-base-200 btn-sm">
                    <i class="fa-solid fa-door-open"></i>
                    Rooms
                </a>
            </li>
            <li>
                <a href="{% url 'victims_portal' %}" class="btn btn-ghost btn-sm"><i class="fa-solid fa-tower-broadcast"></i> Victims Portal </a>
            </li>
            <li>
                <a href="{% url 'display_map' %}" class="btn btn-ghost btn-sm"><i class="fa-solid fa-map-location-dot"></i> Maps Portal </a>
            </li>
        </ul>
    </div>

    <div class="md:w-[calc(100%-13rem)] w-full min-h-[80dvh] md:ml-[13rem] flex flex-col p-8">
        <h1
            class="text-2xl font-bold mb-2"
        >
            Rooms
        </h1>
        <p>
            Here you can see all the rooms where your rescue team is currently coordinating with other rescue teams.
        </p>

        <div class="mt-8 space-y-8">
            <div
                class="bg-base-200 rounded-xl shadow p-6 hover:shadow-lg border-base-200">
                <div class="flex items-center mb-4">
                    <div class="indicator mr-4">
                        <span class="indicator-item badge badge-sm badge-warning"></span>
                        <h3 class="pr-4 text-lg font-bold">
                            DMAD Rescue Team and NIDM Volunteers
                        </h3>
                    </div>
                    <p>- Operation in progress</p>
                </div>
                <div class="flex flex-col space-y-8 md:flex-row justify-between items-center text-base-content/70 text-sm">
                    <div class="flex flex-col justify-center space-y-2">
                        <p>
                            <i class="fa-solid fa-map-pin"></i> Location: <span class="font-bold">Kerala, India</span>
                        </p>
                        <p>
                            <i class="fa-solid fa-users"></i> No. of People Affected: <span class="font-bold">100</span>
                        </p>
                        <p>
                            <i class="fa-solid fa-clock"></i> Total Time Spent: <span class="font-bold">2h 30m</span>
                        </p>
                    </div>
                    <div>
                        <a href="{% url 'chatroom' %}">
                            <button class="btn btn-sm btn-accent">
                                Enter Room
                            </button>
                        </a>
                        <button
                            class="btn btn-error btn-sm ml-2"
                            onclick="confirm('Are you sure you want to end this operation?') ? alert('Operation ended successfully!') : null"
                        >
                            <i class="fa-solid fa-trash"></i>
                            End Operation
                        </button>
                    </div>
                </div>
            </div>
            <div
                class="bg-base-200 rounded-xl shadow p-6 hover:shadow-lg border-base-200">
                <div class="flex items-center mb-4">
                    <div class="indicator mr-4">
                        <span class="indicator-item badge badge-sm badge-error"></span>
                        <h3 class="pr-4 text-lg font-bold">
                            NDRF Rescue Team and CDRI Rescue Team
                        </h3>
                    </div>
                    <p>- Operation requires immediate assistance</p>
                </div>
                <div class="flex flex-col space-y-8 md:flex-row justify-between items-center">
                    <div class="flex flex-col justify-center space-y-2 text-base-content/70 text-sm">
                        <p>
                            <i class="fa-solid fa-map-pin"></i> Location: <span class="font-bold">Delhi, India</span>
                        </p>
                        <p>
                            <i class="fa-solid fa-users"></i> No. of People Affected: <span class="font-bold"> +200</span>
                        </p>
                        <p>
                            <i class="fa-solid fa-clock"></i> Total Time Spent: <span class="font-bold">7h 53m</span>
                        </p>
                    </div>
                    <div>
                        <a href="{% url 'chatroom' %}">
                            <button class="btn btn-sm btn-accent">
                                Enter Room
                            </button>
                        </a>
                        <button
                            class="btn btn-error btn-sm ml-2"
                            onclick="confirm('Are you sure you want to end this operation?') ? alert('Operation ended successfully!') : null"
                        >
                            <i class="fa-solid fa-trash"></i>
                            End Operation
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <button
            class="btn btn-accent mt-12 max-w-sm"
            onclick="create_room.showModal()"
        >
            Create New Room
        </button>
    </div>

    <dialog id="create_room" class="modal">
        <div class="modal-box w-10/12 p-10 max-w-5xl">
            <h3 class="font-bold text-lg">Create New Room</h3>
            <p class="py-4">
                Start a new rescue operation by creating a new room with other rescue teams.
            </p>

            <form>
                <div class="space-y-4 mb-8">
                    <div>
                        <label for="name" class="label">
                            <span class="label-text font-bold">Select Agency to Coordinate With</span>
                        </label>
                        <select class="select select-bordered w-full" name="manpower">
                            <option value="DMAD">DMAD</option>
                            <option value="NIDM">NIDM</option>
                            <option value="NDRF">NDRF</option>
                            <option value="CDRI">CDRI</option>
                        </select>
                    </div>

                    <div>
                        <label for="name" class="label">
                            <span class="label-text font-bold">Location of Operation</span>
                        </label>
                        <div class="w-full relative">
                            <input type="text" placeholder="Enter Location" class="input input-bordered w-full" />
                            <div class="text-xl btn btn-ghost absolute right-0">
                                <i class="fa-solid fa-location-crosshairs"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <button
                    type="submit"
                    class="btn btn-accent w-full"
                >
                    Create Room
                </button>

            </form>
        </div>
        <form method="dialog" class="modal-backdrop">
            <button>close</button>
        </form>
    </dialog>

{% endblock %}